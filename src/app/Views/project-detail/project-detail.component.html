<div class="row g-3">
  <div class="col-md-5">
    <div class="card-box">
  <apx-chart
  [series]="chartOptions1.series"
  [chart]="chartOptions1.chart"
  [xaxis]="chartOptions1.xaxis"
  [plotOptions]="chartOptions1.plotOptions"
  [dataLabels]="chartOptions1.dataLabels"
  [fill]="chartOptions1.fill"
  [tooltip]="chartOptions1.tooltip"
  [title]="chartOptions1.title"
  [grid]="chartOptions1.grid">
</apx-chart>


</div>
</div>
<div class="col-md-4">
    <div class="card-box">
        <apx-chart
  [series]="[Totaltodo,Totalcomplete,Totalprogress,Totalonhold]"
  [chart]="chartOptions.chart"
  [labels]="chartOptions.labels"
  [responsive]="chartOptions.responsive">
</apx-chart>
</div>
</div>
<div class="col-md-3">
    <div class="card-box">
        <apx-chart
 [series]="[Totaltodo,Totalcomplete,Totalprogress,Totalonhold]"
  [chart]="chartOptions2.chart"
  [labels]="chartOptions2.labels"
  [plotOptions]="chartOptions2.plotOptions"
  [fill]="chartOptions2.fill">
</apx-chart>

</div>
</div>

</div>

<!-- Recent Tasks -->
<div class="card-box mt-4">
  <h6><i class="bi bi-clock me-2"></i>{{currentProject.projectName}} Tasks</h6>

  <!-- Filters -->
  <div class="row g-2">
    <div class="col-md-3"></div>
    <div class="col-md-3">
    
    </div>

    <div class="col-md-2">
      <select class="form-select" [(ngModel)]="filter.status">
        <option value="">All Status</option>
        <option value="ToDo">ToDo</option>
        <option value="Completed">Completed</option>
        <option value="InProgress">InProgress</option>
        <option value="OnHold">OnHold</option>
      </select>
    </div>
    <div class="col-md-2">
      <select class="form-select" [(ngModel)]="filter.priority">
        <option value="">All Priority</option>
        <option value="Urgent">Urgent</option>
        <option value="High">High</option>
        <option value="Medium">Medium</option>
        <option value="Low">Low</option>
      </select>
    </div>
    <div class="col-md-2">
      <input type="date" class="form-control" [(ngModel)]="filter.date">
    </div>
  </div>


  <!-- Task -->
  <div class="mt-3 border rounded p-3" *ngFor="let task of filteredTasks(),index as i">
    <div class="d-flex justify-content-between align-items-center">

      <!-- Task Info -->
      <div>
        <p>{{ task.name }}</p><br>
        <small class="text-muted">{{ task.note }}</small>
        <div class="mt-2">
          <span class="badge me-1 fs-6" [ngClass]="getProjectClass(task.project)">{{ task.project}}</span>
          <span class="badge fs-6" [ngClass]="getStatusClass(task.status)">{{ task.status }}</span>
        </div>
      </div>

      <!-- Date and Priority -->
      <div class="text-end w-50 fs-7"> <!-- fs-5 is a larger font-size in Bootstrap -->
        <i class="bi bi-pencil ms-4" style="color: orange; cursor: pointer; font-size: 1.5rem;"
          (click)="editTask(task.taskId)"></i>
        <i class="bi bi-trash ms-2" style="color: red; cursor: pointer; font-size: 1.5rem;"
          (click)="deleteTask(task.taskId)"></i>

        <div>
          <p class="text-muted my-2">
            <i class="bi bi-calendar"></i> {{ task.startDate | date:'MMM d' }}
          </p>
        </div>

        <p class="badge px-3 py-2 fs-6" [ngClass]="getPriorityClass(task.priority)">
          {{ task.priority }}
        </p>
      </div>


    </div>
  </div>


</div>


